# === Runtime configuration ===
APP_ENV=dev
HOST=0.0.0.0
PORT=8000

# === Database (Docker compose uses these) ===
POSTGRES_USER=app
POSTGRES_PASSWORD=app
POSTGRES_DB=reco
POSTGRES_HOST=db
POSTGRES_PORT=5432
DATABASE_URL=postgresql+psycopg2://app:app@db:5432/reco

# === External APIs (placeholders) ===
TMDB_API_KEY=replace_me
TMDB_PAGE_LIMIT=20
JUSTWATCH_COUNTRY=IL
JUSTWATCH_LANGUAGE=en
JUSTWATCH_PLATFORM=WEB
USER_PROFILE_DECAY_HALF_LIFE=10

# === Reranker (LLM provider) ===
# Set RERANK_PROVIDER to 'openai' or 'gemini'. Defaults to openai when unset.
RERANK_PROVIDER=openai
# API key that matches the selected provider.
RERANK_API_KEY=replace_me
# Optional: RERANK_ENABLED=1 # enabled by default
RERANK_TIMEOUT=20    #Optional:  seconds, default 12
# Optional: RERANK_MODEL=replace_me #defaults to gpt-4o-mini for openai, gemini-2.0-flash-lite for gemini
# Optional: RERANK_ENDPOINT=https://api.openai.com/v1/chat/completions

# === Intent Parser (LLM provider) ===
# Set INTENT_PROVIDER to 'openai' or 'gemini'. Defaults to openai when unset.
INTENT_PROVIDER=openai
# API key that matches the selected provider.
INTENT_API_KEY=replace_me
# Optional: INTENT_ENABLED=1 # enabled by default
# Optional: INTENT_TIMEOUT=5    # seconds, default 12
# Optional: INTENT_MODEL=replace_me #defaults to gpt-4o-mini for openai, gemini-2.0-flash-lite for gemini
# Optional: INTENT_ENDPOINT=https://api.openai.com/v1/chat/completions
# Optional: INTENT_SCOPE_GENRES_BY_MEDIA=1   # scope catalog genres to detected media types (default 1)
# Optional: INTENT_ENABLE_ANN_DESCRIPTION=0  # ask LLM for an ANN description snippet (default 0)

# === Embedding pipeline ===
EMBED_MODEL=all-MiniLM-L6-v2
EMBED_BATCH=64
EMBED_VERSION=v1
EMBED_TEMPLATE=basic

# === Recommendation mixer weights ===
# Optional knobs for blending ANN / collaborative / trending sources
# MIXER_COLLAB_WEIGHT=0.3
# MIXER_TRENDING_WEIGHT=0.2
# MIXER_NOVELTY_WEIGHT=0.1
